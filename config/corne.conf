# Jos√©'s Corne ZMK Configuration
# ==============================
# Optimized for wireless split keyboard with nice!nano v2
# No display configured

# ---------------------------------
# Bluetooth Settings
# ---------------------------------
# Increase Bluetooth signal strength for better connectivity
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Experimental features for better connection stability
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# Allow more Bluetooth profiles (default is 5)
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# ---------------------------------
# Power Management
# ---------------------------------
# Enable deep sleep after 15 minutes of inactivity (saves battery)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# Idle timeout before entering idle state (30 seconds)
CONFIG_ZMK_IDLE_TIMEOUT=30000

# External power control (for LEDs if you have them)
CONFIG_ZMK_EXT_POWER=y

# ---------------------------------
# Keyboard Behavior
# ---------------------------------
# Debounce settings (default is 5ms, increase if experiencing chatter)
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# Enable pointing device support (for mouse keys)
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y

# ---------------------------------
# Combo Settings
# ---------------------------------
# Maximum number of combos (increase if you have many combos)
CONFIG_ZMK_COMBO_MAX_COMBOS_PER_KEY=8
CONFIG_ZMK_COMBO_MAX_KEYS_PER_COMBO=4
CONFIG_ZMK_COMBO_MAX_PRESSED_COMBOS=4

# ---------------------------------
# Performance Tuning
# ---------------------------------
# Increase USB polling rate (for wired connection)
CONFIG_USB_HID_POLL_INTERVAL_MS=1

# Enable eager debouncing for faster response
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=1
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# ---------------------------------
# Split Keyboard Settings
# ---------------------------------
# Better split keyboard connectivity
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# ---------------------------------
# Logging (disable for production)
# ---------------------------------
# Uncomment for debugging
# CONFIG_ZMK_USB_LOGGING=y
# CONFIG_LOG=y
# CONFIG_LOG_PROCESS_THREAD_SLEEP_MS=100
